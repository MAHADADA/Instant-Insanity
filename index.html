<html>

<head>
	<meta name="viewport" content="user-scalable=no">
	<title>Insanity Cannabis</title>
	<script src="./three.js"></script>
	<script src="./app.js" type="module"></script>
	<link rel="stylesheet" href="main.css">
</head>

<body>
	<div id="render"></div>
	<div id="game"></div>

	<!-- https://developers.google.com/youtube/iframe_api_reference -->
	<div id="bgm_player"></div>
	<script src="https://www.youtube.com/iframe_api"></script>
	<script>
		var player;
		function onYouTubeIframeAPIReady() {
			player = new YT.Player('bgm_player', {
				events: {
					onReady: onPlayerReady,
				},
				height: '1',
				width: '1',
				playerVars: { 'loop': 1, 'autoplay': 1, 'controls': 0, 'playlist': 'FseAiTb8Se0' },
				videoId: 'FseAiTb8Se0'
			});
		}
		function onPlayerReady(event) {
			window.app = new App(player);
			app.gotoHome();
			event.target.setVolume(app.volume);
			event.target.playVideo();
		}
		window.onfocus = function() {
			window.app.bgm_player.playVideo();
		}
	</script>

	<div id="loading">
		<div id="loadingContent">
			Loading...<span id="loadingCnt">(0/0)</span>
		</div>
	</div>
</body>

</html>
